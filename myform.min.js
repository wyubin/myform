!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.myform=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){e.id="events_reg";var r=function(t){this.body=t,this.events={},this.attached=[]};n.events_reg=r,r.prototype.events_han=function(t){var e,n=this.events[t.type];if(n)if("function"==typeof n)n(t);else for(e in n)t.target.matches(e)&&n[e](t)},r.prototype.register=function(){var t,e=this;for(t in this.events)-1==this.attached.indexOf(t)&&(this.body.addEventListener(t,function(t){e.events_han(t)}),this.attached.push(t))}},{}],2:[function(t,e,n){e.id="mytooltip",t("./stdlib.HTMLElement.js");var r=t("util")._extend,i=function(t,e){this.doms={body:t},this.args=r({},e),this.init()};n.mytooltip=i,i.prototype.init=function(){var t=this;"mytooltip hide".split(/\s+/).map(function(e){t.doms.body.classList.add(e)}),this.doms.body.append_by_array([{name:"div",attr:{"class":"content"}}]),this.doms.content=this.doms.body.querySelector("div.content")},i.prototype.show_pos=function(t,e){var n=this;return Object.keys(t).map(function(e){n.doms.body.style[e]=t[e]}),e&&(n.doms.content.innerHTML="",n.doms.content.append_by_array(e)),n.doms.body.classList.remove("hide"),this},i.prototype.hide=function(){return this.doms.body.classList.add("hide"),this},i.prototype.show_dom=function(t,e,n){var r=t.getBoundingClientRect(),i={top:r.bottom,left:r.right};e&&Object.keys(e).map(function(t){i[t]||(i[t]=0),i[t]=i[t]+e[t]}),this.show_pos(i,n)}},{"./stdlib.HTMLElement.js":4,util:13}],3:[function(t,e,n){e.id="CSSStyleSheet.js",CSSStyleSheet.prototype.css_update=function(t,e){var n,r;for(n=0;n<this.cssRules.length;n++)r=this.cssRules[n],r.selectorText==t&&this.deleteRule(r);return this.insertRule(t+this.css_tostring(e),0),this},CSSStyleSheet.prototype.css_tostring=function(t){return"{"+Object.keys(t).map(function(e){return e+":"+t[e]}).join(";")+"}"}},{}],4:[function(t,e,n){e.id="HTMLElement.js",HTMLElement.prototype.append_by_array=function(t){var e=this;return t.map(function(t){var n;1==t.nodeType?n=t:t.name?(n=document.createElement(t.name),t.attr&&Object.keys(t.attr).map(function(e){n.setAttribute(e,t.attr[e])}),t.child&&t.child.hasOwnProperty("length")?n.append_by_array(t.child):t.html&&(n.innerHTML=t.html)):n=document.createTextNode(t),e.appendChild(n)}),this}},{}],5:[function(t,e,n){e.id="HTMLFormElement.js",mytooltip=t("./mytooltip.js").mytooltip,t("./stdlib.NodeList.js"),t("./stdlib.HTMLSelectElement.js"),HTMLFormElement.prototype.validate_handler=function(t){var e;return e=this.validators[t.target.name],e&&(t.target.setCustomValidity(""),""==t.target.validationMessage&&t.target.setCustomValidity(e(t))),t.target.form.checkValidity()},HTMLFormElement.prototype.validators={},HTMLFormElement.prototype.val=function(t){var e,n=Array.prototype.slice.call(this).reduce(function(t,e){return-1==t.indexOf(e.name)&&t.push(e.name),t},[]),r=this;return n.reduce(function(n,i){return e=t?t[i]||null:null,n[i]=r.elem_val(i,e),n},{})},HTMLFormElement.prototype.elem_val=function(t,e){var n,r=this,i=["[type=checkbox]","select[multiple]"],o=0==i.reduce(function(e,i){return n=r[t].DOCUMENT_NODE?r[t]:r[t][0],e+n.matches(i)},0);return o?(e&&(r[t].value=e),r[t].value):r[t].ind_val(e,"checked")},HTMLFormElement.prototype.safari_validity=function(t,e){var n,r=this;if(!this.tip_obj){var i=document.createElement("span");this.appendChild(i),this.tip_obj=new mytooltip(i)}for(n=0;n<this.length;n++)if(""!=this[n].validationMessage){var o=this[n].getBoundingClientRect().width/2;return console.log(this[n]),this.tip_obj.show_dom(this[n],{left:-o},[this[n].validationMessage]),setTimeout(function(){r.tip_obj.hide()},3e3),!1}return!0}},{"./mytooltip.js":2,"./stdlib.HTMLSelectElement.js":6,"./stdlib.NodeList.js":8}],6:[function(t,e,n){e.id="HTMLSelectElement.js",HTMLSelectElement.prototype.ind_val=function(t){return t?(Array.prototype.slice.call(this.options).map(function(e){e.selected=-1!=t.indexOf(e.value)}),this):Array.prototype.slice.call(this.selectedOptions).map(function(t){return t.value})}},{}],7:[function(t,e,n){e.id="Navigator.js",Navigator.prototype.browser_version=function(){var t,e;return e=this.userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),e&&null!=(t=this.userAgent.match(/version\/([\.\d]+)/i))&&(e[2]=t[1]),e=e?e.slice(1,3):[this.appName,this.appVersion,"-?"]}},{}],8:[function(t,e,n){e.id="NodeList.js",NodeList.prototype.ind_val=function(t,e){var n=Array.prototype.slice.call(this);return t?(n.map(function(n){n[e]=-1!=t.indexOf(n.value)}),t):n.reduce(function(t,n){return n[e]&&t.push(n.value),t},[])}},{}],9:[function(t,e,n){e.id="myform",t("../../lib/stdlib.HTMLElement.js"),t("../../lib/stdlib.HTMLFormElement.js"),t("../../lib/stdlib.Navigator.js"),t("../../lib/stdlib.CSSStyleSheet.js");var r=t("util")._extend,i=t("../../lib/events_reg.js").events_reg,o=function(t,e){this.doms={body:t},this.args=r({custom_class:"myform",events:["change"]},e),this.e_reg=new i(t),this.validators={},this.init()};n.myform=o,o.prototype.init=function(){var t,e=this;this.init_view(),this.args.events.map(function(t){e.e_reg.events[t]={}}),this.e_reg.events.submit=function(t){"safari"==navigator.browser_version()[0].toLowerCase()?t.currentTarget.safari_validity(t)&&e.submit_callback(t):e.submit_callback(t),t.preventDefault()},this.e_reg.events.input=function(t){t.currentTarget.validate_handler(t)},t=document.querySelector("head>style[title="+this.args.custom_class+"]"),null==t&&(t=document.createElement("style"),t.setAttribute("title",this.args.custom_class),document.querySelector("head").appendChild(t)),this.css=t.sheet},o.prototype.init_view=function(){var t=this;this.doms.body.append_by_array([{name:"div",attr:{"class":"form_input"}},{name:"div",attr:{"class":"form_ctrl"},child:["reset","submit"].map(function(t){return{name:"input",attr:{name:t,type:t}}})}]),["form_input","form_ctrl"].map(function(e){t.doms[e]=t.doms.body.querySelector("div."+e)}),this.doms.body.classList.add("myform"),this.doms.body.classList.add(this.args.custom_class)},o.prototype.add_inputs=function(t){var e,n=t.map(function(t){return e=t.no_label?t:{name:"div",attr:{"class":t.hide?"field_hide":"field"},child:[t,{name:"label",child:[t.attr.name]}]}});return this.doms.form_input.append_by_array(n),this.css_update(),this.e_reg.register(),this},o.prototype.css_update=function(){var t,e=this,n={},r={label:"div.field>label",element:"div.field>*:nth-child(1)"};Object.keys(r).map(function(i){t=Array.prototype.slice.call(e.doms.body.querySelectorAll(r[i])),n[i]=Math.max.apply(null,t.map(function(t){return t.getBoundingClientRect().width}))});var i=this.doms.body.getBoundingClientRect().width;return this.css.css_update("form."+this.args.custom_class+" div.field>label",{width:n.label}),this.css.css_update("form."+this.args.custom_class,{"min-width":n.label+100,"max-width":n.label+n.element+30}),this.css.css_update("form."+this.args.custom_class+" div.field>*:nth-child(1)",{"max-width":i-n.label-40}),this},o.prototype.submit_callback=function(t){console.log(t.target.val())},o.prototype.element_enable=function(t){var e;if("boolean"==typeof t)for(e=0;e<this.doms.body.length;e++)this.doms.body[e].disabled=!t;else if("function"==typeof t)for(e=0;e<this.doms.body.length;e++)this.doms.body[e].disabled=!t(this.doms.body[e]);else console.log("your args is wrong type!!")}},{"../../lib/events_reg.js":1,"../../lib/stdlib.CSSStyleSheet.js":3,"../../lib/stdlib.HTMLElement.js":4,"../../lib/stdlib.HTMLFormElement.js":5,"../../lib/stdlib.Navigator.js":7,util:13}],10:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],11:[function(t,e,n){function r(){c=!1,a.length?u=a.concat(u):p=-1,u.length&&i()}function i(){if(!c){var t=setTimeout(r);c=!0;for(var e=u.length;e;){for(a=u,u=[];++p<e;)a[p].run();p=-1,e=u.length}a=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,l=e.exports={},u=[],c=!1,p=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],12:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],13:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,e,r){if(t.customInspect&&e&&O(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var o=u(t,e);if(o)return o;var s=Object.keys(e),m=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),x(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(O(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(x(e))return c(e)}var g="",v=!1,_=["{","}"];if(h(e)&&(v=!0,_=["[","]"]),O(e)){var j=e.name?": "+e.name:"";g=" [Function"+j+"]"}if(w(e)&&(g=" "+RegExp.prototype.toString.call(e)),E(e)&&(g=" "+Date.prototype.toUTCString.call(e)),x(e)&&(g=" "+c(e)),0===s.length&&(!v||0==e.length))return _[0]+g+_[1];if(0>r)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=v?p(t,e,r,m,s):s.map(function(n){return f(t,e,r,m,n,v)}),t.seen.pop(),d(S,g,_)}function u(t,e){if(j(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)N(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=y(n)?l(t,u.value,null):l(t,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),j(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function h(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function j(t){return void 0===t}function w(t){return S(t)&&"[object RegExp]"===T(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===T(t)}function x(t){return S(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function L(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function M(t){return 10>t?"0"+t.toString(10):t.toString(10)}function H(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(C,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])s+=y(a)||!S(a)?" "+a:" "+i(a);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(j(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var z,A={};n.debuglog=function(t){if(j(z)&&(z=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!A[t])if(new RegExp("\\b"+t+"\\b","i").test(z)){var r=e.pid;A[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else A[t]=function(){};return A[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=m,n.isNull=y,n.isNullOrUndefined=g,n.isNumber=v,n.isString=b,n.isSymbol=_,n.isUndefined=j,n.isRegExp=w,n.isObject=S,n.isDate=E,n.isError=x,n.isFunction=O,n.isPrimitive=L,n.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",H(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":12,_process:11,inherits:10}]},{},[9])(9)});
